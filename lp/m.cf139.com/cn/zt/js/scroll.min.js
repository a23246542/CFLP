function scrollsX(box){
	var pointX=0,left=0;
	var indexObj;
	$(box).each(function(){
		var box=$(this);
		var W=box.width();
		var cententW=box.children().width();
		var btnW=W/cententW*W;
		var scrollX='<div class="scrollX_box" boxW="'+W+'" cententW="'+cententW+'" move="false">';
			scrollX+='<div class="scrollX_btns" lefts="0">';
			scrollX+='<div style="/*background-color:#696979;*/position:absolute;width:100%;top:6px;height:6px;border-radius:4px"></div>';
			scrollX+='</div></div>';
		box.parent().css({"position":"relative"});
		if(W/cententW<1){
			box.children(".scrollX_box").remove();
			box.before(scrollX);
		}else{
			box.children(".scrollX_box").remove();
		}
		box.siblings(".scrollX_box").css({
			"width":W,
			"position":"absolute",
			"bottom":0,
			"left":0,
			"z-index":0,
			//"background-color":"#444448",
			"height":"18px"
		});
		box.siblings(".scrollX_box").children(".scrollX_btns").css({
			"width":btnW,
			"position":"relative",
			"cursor":"pointer",
			"height":"18px"
		});
		$(".scrollX_btn").hover(function(){
			$(this).children().css({
				//"background-color":"#9797ac",
			});
		},function(){
			$(this).children().css({
				//"background-color":"#696979",
			});
			//move=$(this).parent().attr("move","false");
		});
		box.scroll(function(){
			var X=$(this).scrollLeft();
			var boxW=$(this).siblings(".scrollX_box").attr("boxW")
			var cententW=$(this).siblings(".scrollX_box").attr("cententW");
			$(this).siblings(".scrollX_box").children(".scrollX_btns").css({
				"margin-left":X/cententW*boxW
			});
			$(this).siblings(".scrollX_box").children(".scrollX_btns").attr("lefts",X/cententW*boxW);
		});
		$(".scrollX_btns").mousedown(function(e){
			indexObj=$(this);
			pointX = e.pageX;	//这里可以得到鼠标Y坐标
			left=$(this).attr("lefts")*1;
			$(this).parent().attr("move","true");
			$(this).focus();
		});
		$(document).mousemove(function(e){
			e.stopPropagation();
			if(indexObj!=undefined){
				if(indexObj.parent().attr("move")=="true"){
					var moveX =e.pageX-pointX;
					var boxW=indexObj.parent().attr("boxW")
					var cententW=indexObj.parent().attr("cententW");
					var btnW=boxW/cententW*boxW;
					//$(this).siblings().unbind();
					indexObj.css({
						"margin-left":left+moveX
					});
					indexObj.attr("lefts",left+moveX);
					indexObj.parent().siblings().scrollLeft((left+moveX)/boxW*cententW);
					if(left+moveX>boxW-btnW){
						indexObj.css({
							"margin-left":boxW-btnW
						});
						indexObj.attr("lefts",boxW-btnW);
					}else if(left+moveX<0){
						indexObj.css({
							"margin-left":0
						});
						indexObj.attr("lefts",0);
					}
				}
			}
		});
		$(document).mouseup(function(e){
			if(indexObj!=undefined){
				indexObj.parent().attr("move","false");
				indexObj.focus();
			}
		});
	});
}
